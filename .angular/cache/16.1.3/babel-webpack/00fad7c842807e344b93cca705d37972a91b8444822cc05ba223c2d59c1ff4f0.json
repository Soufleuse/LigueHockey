{"ast":null,"code":"import { JoueurDto } from 'src/app/services/joueur';\nimport { StatsJoueurDto } from 'src/app/services/joueur-stats';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/joueur-statistiques.service\";\nexport let JoueurStatistiquesModifierComponent = /*#__PURE__*/(() => {\n  class JoueurStatistiquesModifierComponent {\n    constructor(fb, route, joueurStatsService) {\n      this.fb = fb;\n      this.route = route;\n      this.joueurStatsService = joueurStatsService;\n      this.data = new StatsJoueurDto();\n      this.data.joueur = new JoueurDto();\n      this.statsJoueurForm = this.fb.group({\n        nbPartiesJouees: [],\n        nbButs: [],\n        nbPasses: [],\n        nbMinutesPenalites: [],\n        plusseMoins: [],\n        messageAAfficher: ['']\n      });\n    }\n    ngOnInit() {\n      this.route.params.subscribe(params => {\n        var noJoueur = params['noJoueur'];\n        var anneeStats = params['anneeStats'];\n        const monObservation = {\n          next: reponse => {\n            this.data = reponse;\n            this.statsJoueurForm.patchValue(this.data);\n          },\n          error: err => {\n            console.log('Erreur' + err.message);\n          }\n        };\n        this.joueurStatsService.obtenirStatsJoueur(noJoueur, anneeStats).subscribe(monObservation);\n      });\n    }\n    surEnregistrer() {\n      this.data.nbPartiesJouees = this.statsJoueurForm.get('nbPartiesJouees') == null ? 0 : this.statsJoueurForm.get('nbPartiesJouees').value;\n      this.data.nbButs = this.statsJoueurForm.get('nbButs').value;\n      this.data.nbPasses = this.statsJoueurForm.get('nbPasses').value;\n      this.data.nbMinutesPenalites = this.statsJoueurForm.get('nbMinutesPenalites').value;\n      this.data.plusseMoins = this.statsJoueurForm.get('plusseMoins').value;\n      const monObservation = {\n        next: () => {\n          this.statsJoueurForm.patchValue({\n            messageAAfficher: 'Maj effectuée'\n          });\n        },\n        error: err => {\n          this.statsJoueurForm.patchValue({\n            messageAAfficher: err\n          });\n        }\n      };\n      this.joueurStatsService.majStatsJoueur(this.data).subscribe(monObservation);\n    }\n  }\n  JoueurStatistiquesModifierComponent.ɵfac = function JoueurStatistiquesModifierComponent_Factory(t) {\n    return new (t || JoueurStatistiquesModifierComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.JoueurStatistiquesService));\n  };\n  JoueurStatistiquesModifierComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: JoueurStatistiquesModifierComponent,\n    selectors: [[\"app-joueur-statistiques-modifier\"]],\n    decls: 21,\n    vars: 3,\n    consts: [[1, \"form-group\", 3, \"formGroup\"], [\"for\", \"nbPartiesJouees\"], [\"type\", \"text\", \"id\", \"nbPartiesJouees\", \"formControlName\", \"nbPartiesJouees\", 1, \"form-control\"], [\"for\", \"nbButs\"], [\"type\", \"text\", \"id\", \"nbButs\", \"formControlName\", \"nbButs\", 1, \"form-control\"], [\"for\", \"nbPasses\"], [\"type\", \"text\", \"id\", \"nbPasses\", \"formControlName\", \"nbPasses\", 1, \"form-control\"], [\"for\", \"nbMinutesPenalites\"], [\"type\", \"text\", \"id\", \"nbMinutesPenalites\", \"formControlName\", \"nbMinutesPenalites\", 1, \"form-control\"], [\"for\", \"plusseMoins\"], [\"type\", \"text\", \"id\", \"plusseMoins\", \"formControlName\", \"plusseMoins\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"my-3\", 3, \"click\"], [\"type\", \"text\", \"id\", \"messageAAfficher\", \"formControlName\", \"messageAAfficher\", \"readonly\", \"\", 1, \"form-control\"]],\n    template: function JoueurStatistiquesModifierComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\");\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"label\", 1);\n        i0.ɵɵtext(4, \"Nb Parties jou\\u00E9es: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"input\", 2);\n        i0.ɵɵelementStart(6, \"label\", 3);\n        i0.ɵɵtext(7, \"Nombre de buts: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"input\", 4);\n        i0.ɵɵelementStart(9, \"label\", 5);\n        i0.ɵɵtext(10, \"Nombre de passes: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"input\", 6);\n        i0.ɵɵelementStart(12, \"label\", 7);\n        i0.ɵɵtext(13, \"Minutes de p\\u00E9nalit\\u00E9s: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"input\", 8);\n        i0.ɵɵelementStart(15, \"label\", 9);\n        i0.ɵɵtext(16, \"Plusse/moins: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"input\", 10);\n        i0.ɵɵelementStart(18, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function JoueurStatistiquesModifierComponent_Template_button_click_18_listener() {\n          return ctx.surEnregistrer();\n        });\n        i0.ɵɵtext(19, \"Soumettre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 12);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.statsJoueurForm);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate2(\"Modifier les statistiques de \", ctx.data.joueur.prenom, \" \", ctx.data.joueur.nom, \"\");\n      }\n    },\n    dependencies: [i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName]\n  });\n  return JoueurStatistiquesModifierComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}